jQuery(document).ready(function (b) {
    var a = b("#wpbody-content .wrap");
    a.on("click", ".frp-form-group .frp-form-button", function () {
        if (typeof frpOptions != "undefined") {
            var d;
            for (var c in frpOptions.shortcodes) {
                if (!frpOptions.shortcodes.hasOwnProperty(c)) {
                    continue
                }
                if (b(this).hasClass("frp-form-button-" + c)) {
                    d = frpOptions.shortcodes[c];
                    break
                }
            }
            if (d) {
                b(this).parent().next("textarea").replaceSelectedText(d)
            }
        }
    });
    a.on("click", ".frp-form-group-title .frp-form-toggle-taxonomies", function () {
        b(this).parent().next(".frp-taxonomies").children(".frp-taxonomies-all").toggleClass("hidden");
        b(this).toggleClass("visible")
    });
    a.on("click", ".frp-taxonomies .categorychecklist input", function () {
        var e = b(this);
        var d = e.closest(".frp-taxonomies");
        var c = e.closest(".categorychecklist");
        var f = c.prev(".frp-all-taxonomies").children("input");
        b(":disabled", d).prop("disabled", false);
        b("input", d).not(b("input", c)).prop("checked", false);
        b(".frp-taxonomy", d).val(f.val())
    });
    a.on("click", ".frp-taxonomies .frp-all-taxonomies input", function () {
        var e = b(this);
        var d = e.closest(".frp-taxonomies");
        b(":disabled", d).prop("disabled", false);
        b("input", d).not(e).prop("checked", false);
        if (e.is(":checked")) {
            var c = e.closest(".frp-all-taxonomies").next(".categorychecklist");
            b("input", c).prop("disabled", true);
            b(".frp-taxonomy", d).val(e.val())
        }
    });
    a.on("click", ".frp-form-themes-button", function () {
        b(this).next(".frp-form-themes").slideToggle()
    });
    a.on("click", ".frp-form-theme:not(.frp-active)", function () {
        var c = b(this);
        var d = c.attr("data-theme-name");
        c.parent().children(".frp-active").removeClass("frp-active");
        c.addClass("frp-active");
        c.nextAll("input").attr("value", d);
        c = c.parent().next("textarea");
        if (!c.hasClass("frp-user-modified") || confirm(frpOptions.confirmReplace)) {
            c.val(frpOptions.themes[d].template).removeClass("frp-user-modified")
        }
    });
    a.on("change keyup", ".frp-form-group textarea:not(.frp-user-modified)", function () {
        b(this).addClass("frp-user-modified")
    })
});